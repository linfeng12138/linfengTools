"use strict";(()=>{console.log("欢迎使用林风工具")})();const defaultConfig={text:{judgeSpace:true},date:{fmt:"YYYY-MM-DD hh:mm:ss",week:true},animat:{floatText:[0,1]}};function judgeDataType(param){const result=Object.prototype.toString.call(param).replace(/^\[object (\S+)\]$/,"$1");return result}function dateFormat(date,fmt,week=defaultConfig.date.week){const dateType=judgeDataType(date);if(dateType!="Date"&&dateType!="Undefind"&&dateType!="Null")throw new Error("异常数据类型，请传入合法数据\nError function:dateFormat()");if(judgeDataType(fmt)!="String"||judgeNullValue(fmt)){fmt=defaultConfig.date.fmt}let ret="null";const opt={"Y+":date.getFullYear().toString(),"M+":(date.getMonth()+1).toString(),"D+":date.getDate().toString(),"h+":date.getHours().toString(),"m+":date.getMinutes().toString(),"s+":date.getSeconds().toString(),"w+":date.getDay()?date.getDay().toString():"7","W+":date.getDay()};switch(opt["W+"]){case 0:if(week)opt["W+"]="天";else opt["W+"]="日";break;case 1:opt["W+"]="一";break;case 2:opt["W+"]="二";break;case 3:opt["W+"]="三";break;case 4:opt["W+"]="四";break;case 5:opt["W+"]="五";break;case 6:opt["W+"]="六";break;default:opt["W=="]="Error"}for(let k in opt){ret=new RegExp("("+k+")").exec(fmt);if(ret){fmt=fmt.replace(ret[1],ret[1].length==1?opt[k]:opt[k].padStart(ret[1].length,"0"))}}return fmt}function judgeNullValue(param,space=defaultConfig.text.judgeSpace){const type=judgeDataType(param);if(type==="Undefined"||type==="Null"){return true}else if(type==="String"){if(space){return param.trim().length?false:true}else{return param.length?false:true}}else if(type==="Number"){return Number.parseFloat(param)?false:true}else if(type==="Array"){return param.length?false:true}else if(type==="Object"){return JSON.stringify(param)==="{}"}else if(type==="Date"){return dateFormat(param)==="1970-01-01 00:00:00"?true:false}else{throw new Error("异常数据类型，请传入合法数据\nError function:judgeNullValue()")}}function linfengToolsAnimationFloatText(textArr=defaultConfig.animat.floatText){if(judgeDataType(textArr)!="Array")throw new Error("您传递的数据不为数组\nError function:linfengToolsAnimationFloatText()");if(judgeNullValue(textArr))throw new Error("数组不可为空\nError function:linfengToolsAnimationFloatText()");let getRandomColor=()=>"#"+(h=>new Array(7-h.length).join("0")+h)((Math.random()*16777216<<0).toString(16));let showText=textArr=>{if(!textArr||textArr.length==0){return}let index=0;document.documentElement.addEventListener("click",function(e){let x=e.pageX;let y=e.pageY;let text=document.createElement("span");text.setAttribute("class","text_popup");this.appendChild(text);if(textArr[index]){text.innerHTML=textArr[index]}else{index=0;text.innerHTML=textArr[index]}text.style.color=getRandomColor();text.addEventListener("animationend",function(){text.parentNode.removeChild(text)},false);if(x<text.clientWidth){text.style.left=x+"px"}else if(text.clientWidth>document.documentElement.clientWidth-x){text.style.left=x-text.clientWidth+"px"}else{text.style.left=x-text.clientWidth/2+"px"}text.style.top=y-text.clientHeight/2+"px";index++},false)};showText(textArr)}const linfeng={type:judgeDataType,date:dateFormat,null:judgeNullValue,text:{},animat:{floatText:linfengToolsAnimationFloatText}};